{% extends 'admin/dashboard.html.twig' %}
{% block stylesheets %}{% endblock %}


{% block body %}
	<div class="row mt">
		<div class="col-md-12">
			<div class="content-panel">

				<a href="{{ path('ajouter_categorie', {'action':'add'}) }}">
					<button type="submit" class="btn btn-success start">
						<i class="glyphicon glyphicon-plus"></i>
						<span>Ajouter une catégorie</span>
					</button>
				</a>
				{% if categories %}
					<table class="table table-striped table-advance table-hover">
						<h4>
							<i class="fa fa-angle-right"></i>
							Gestion des catégories</h4>
						<hr>
						<thead>
							<tr>
								<th style="min-width:100px">
									<i class="fa fa-bookmark"></i>
									Id catégorie</th>
								<th style="min-width:100px">
									<i class="fa fa-bullhorn"></i>
									Titre</th>
								<th style="min-width:100px" class="hidden-phone">
									<i class="fa fa-flag"></i>
									Mots clés</th>
								<th style="min-width:100px">
									<i class=" fa fa-edit"></i>Actions</th>
							</tr>
						</thead>
						<tbody>
							{% for categorie in categories %}
								<tr>
									<td>
										<a href="basic_table.html#">{{ categorie.id }}</a>
									</td>
									<td class="hidden-phone">{{ categorie.titre }}</td>
									<td>{{ categorie.motcles }}</td>

									<td>

										<a href="{{ path('fiche_categorie', {'id' : categorie.id ,'action':'check'}) }}" class="btn btn-success btn-xs">
											<i class="fa fa-search"></i>
										</a>
										<a href="{{ path('modifier_categorie', {'id' : categorie.id ,'action':'edit'}) }}" class="btn btn-primary btn-xs">
											<i class="fa fa-pencil"></i>
										</a>

										<a href="{{ path('supprimer_categorie', {'id' : categorie.id ,'action':'delete'}) }}" class="btn btn-danger btn-xs">
											<i class="fa fa-trash-o "></i>
										</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>


				{% else %}
					<h2>Pas de categories!</h2>
				{% endif %}

			</div>
			<br><br>


			{% if action == 'check' %}
				{% if categorie %}

					<h3>
						<i class="fa fa-angle-right"></i>Id de la catégorie:
						{{ categorie.id }}</h3>
					<div class="row mt">
						<div
							class="col-lg-12">
							<!-- The file upload form used as target for the file upload widget -->

							<br>
							<div class="content-panel">
								<div class="">
									<h4>Titre de la catégorie :
										{{categorie.titre}}</h4>
									<ul>Mots clés:
										{{categorie.motcles}}
									</ul>
								</div>
							</div>
							<!-- /panel -->
							<!-- The blueimp Gallery widget -->

						</div>
					{% endif %}
				{% endif %}
				{% if action == 'edit' %}
					<div class="form-panel">
						<h4 class="mb">
							<i class="fa fa-angle-right"></i>
							Modification de la catégorie:</h4>
						<div class="form-horizontal style-form" method="get">
							{{ form_start(formCat) }}
							<div class="form-group">
								<label class="col-sm-2 col-sm-2 control-label">{{ form_label(formCat.titre) }}</label>
								<div class="col-sm-10">
									{{ form_widget(formCat.titre) }}
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 col-sm-2 control-label">{{ form_label(formCat.motcles) }}</label>
								<div class="col-sm-10">
									{{ form_widget(formCat.motcles) }}
								</div>
							</div>


							<button type="submit" class="btn btn-theme start">
								<i class="glyphicon glyphicon-upload"></i>
								<span>Enregistrer</span>
							</button>
							<a href="{{ path('gestion_categories') }}">
								<button class="btn btn-theme04 cancel">

									<i class="glyphicon glyphicon-ban-circle"></i>
									<span>Annuler</span>
								</button>
							</a>
							{{ form_end(formCat) }}
						</div>
					</div>

				{% endif %}
				{% if action == 'add' %}
					<div class="form-panel">
						<h4 class="mb">
							<i class="fa fa-angle-right"></i>
							Ajouter une nouvelle catégorie:</h4>
						<div class="form-horizontal style-form" method="get">
							{{ form_start(formCat) }}
							<div class="form-group">
								<label class="col-sm-2 col-sm-2 control-label">{{ form_label(formCat.titre) }}</label>
								<div class="col-sm-10">
									{{ form_widget(formCat.titre) }}
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 col-sm-2 control-label">{{ form_label(formCat.motcles) }}</label>
								<div class="col-sm-10">
									{{ form_widget(formCat.motcles) }}
								</div>
							</div>


							<button type="submit" class="btn btn-theme start">
								<i class="glyphicon glyphicon-upload"></i>
								<span>Enregistrer</span>
							</button>
							<a href="{{ path('gestion_categories') }}">
								<button class="btn btn-theme04 cancel">

									<i class="glyphicon glyphicon-ban-circle"></i>
									<span>Annuler</span>
								</button>
							</a>
							{{ form_end(formCat) }}
						</div>
					</div>

				{% endif %}


				<!-- /content-panel -->
			</div>
			<!-- /col-md-12 -->
		</div>
	{% endblock %}
	{% block javascripts %}{% endblock %}
